# Redis μ§μ ‘ κµ¬ν„ν•λ©° λ°°μ°κΈ°

## π“‹ Stage λ©λ΅

| Stage | μ λ© | λ‚μ΄λ„ |
|-------|------|--------|
| **1** | **ν¬νΈμ— λ°”μΈλ”©ν•κΈ°** | β¬¤β—‹β—‹ λ§¤μ° μ‰¬μ›€ |
| 2 | PINGμ— μ‘λ‹µν•κΈ° | β¬¤β—‹β—‹ μ‰¬μ›€ |
| 3 | μ—¬λ¬ PINGμ— μ‘λ‹µν•κΈ° | β¬¤β—‹β—‹ μ‰¬μ›€ |
| 4 | λ™μ‹ ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬ν•κΈ° | β¬¤β¬¤β—‹ λ³΄ν†µ |
| 5 | ECHO λ…λ Ήμ–΄ κµ¬ν„ν•κΈ° | β¬¤β¬¤β—‹ λ³΄ν†µ |
| 6 | SET & GET λ…λ Ήμ–΄ κµ¬ν„ν•κΈ° | β¬¤β¬¤β—‹ λ³΄ν†µ |
| 7 | ν‚¤ λ§λ£(Expiry) κµ¬ν„ν•κΈ° | β¬¤β¬¤β—‹ λ³΄ν†µ |

---

## Stage 1: ν¬νΈμ— λ°”μΈλ”©ν•κΈ°

### π― λ©ν‘

Redis μ„λ²„λ” TCP ν”„λ΅ν† μ½μ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ ν†µμ‹ ν•©λ‹λ‹¤. μ΄ λ‹¨κ³„μ—μ„λ” μ‹¤μ  Redisμ²λΌ **ν¬νΈ 6379**μ—μ„ μ—°κ²°μ„ κΈ°λ‹¤λ¦¬λ” TCP μ„λ²„λ¥Ό κµ¬ν„ν•©λ‹λ‹¤.

---

### π“ λ°°κ²½ μ§€μ‹

**TCP(Transmission Control Protocol)** λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ‹ λΆ°μ„± μλ” λ°μ΄ν„° κµν™μ„ κ°€λ¥ν•κ² ν•λ” ν”„λ΅ν† μ½μ…λ‹λ‹¤. Redisλ¥Ό ν¬ν•¨ν• λ€λ¶€λ¶„μ λ°μ΄ν„°λ² μ΄μ¤λ” TCPλ¥Ό μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤.

TCP μ„λ²„κ°€ λ™μ‘ν•λ ¤λ©΄ λ‹¤μ λ‹¨κ³„λ¥Ό κ±°μΉ©λ‹λ‹¤:

1. **μ†μΌ“ μƒμ„±** - λ„¤νΈμ›ν¬ ν†µμ‹ μ„ μ„ν• μ—”λ“ν¬μΈνΈ μƒμ„±
2. **λ°”μΈλ”©** - νΉμ • IP μ£Όμ†μ™€ ν¬νΈμ— μ†μΌ“ μ—°κ²°
3. **λ¦¬μ¤λ‹** - ν΄λΌμ΄μ–ΈνΈ μ—°κ²° μ”μ²­ λ€κΈ°
4. **μλ½** - ν΄λΌμ΄μ–ΈνΈ μ—°κ²° μΉμΈ λ° ν†µμ‹  μ‹μ‘

---

### β… ν†µκ³Ό μ΅°κ±΄

- `localhost:6379`μ—μ„ TCP μ—°κ²°μ„ μλ½ν•  μ μμ–΄μ•Ό ν•©λ‹λ‹¤
- μ„λ²„κ°€ μ‹¤ν–‰λλ©΄ μ—°κ²° λ€κΈ° μƒνƒλ¥Ό μ μ§€ν•΄μ•Ό ν•©λ‹λ‹¤

---

### π’΅ ννΈ

Kotlinμ—μ„λ” `java.net.ServerSocket`μ„ μ‚¬μ©ν•΄ TCP μ„λ²„λ¥Ό κµ¬ν„ν•  μ μμµλ‹λ‹¤.

```kotlin
import java.net.ServerSocket

fun main() {
    val serverSocket = ServerSocket(6379)
    serverSocket.reuseAddress = true
    
    // ν΄λΌμ΄μ–ΈνΈ μ—°κ²° μλ½
    val clientSocket = serverSocket.accept()
    println("ν΄λΌμ΄μ–ΈνΈ μ—°κ²°λ¨: ${clientSocket.inetAddress}")
}
```

---

### π§ ν…μ¤νΈ λ°©λ²•

μ„λ²„λ¥Ό μ‹¤ν–‰ν• ν›„, λ‹¤λ¥Έ ν„°λ―Έλ„μ—μ„ μ•„λ λ…λ Ήμ–΄λ΅ μ—°κ²°μ„ ν…μ¤νΈν•μ„Έμ”:

```bash
# netcatμΌλ΅ μ—°κ²° ν…μ¤νΈ
nc -vz localhost 6379

# λλ” redis-cliλ΅ ν…μ¤νΈ (PINGμ€ μ•„μ§ λ™μ‘ν•μ§€ μ•μ•„λ„ λ¨)
redis-cli ping
```

μ—°κ²°μ΄ μ„±κ³µν•λ©΄ ν†µκ³Όμ…λ‹λ‹¤!

---

### π“ μ‹μ‘ μ½”λ“

`app/src/main/kotlin/Main.kt` νμΌμ„ μƒμ„±ν•κ³  μ‹μ‘ν•μ„Έμ”:

```kotlin
fun main() {
    // TODO: 6379 ν¬νΈμ—μ„ TCP μ—°κ²°μ„ μλ½ν•λ” μ„λ²„ κµ¬ν„
    println("Redis μ„λ²„ μ‹μ‘ λ€κΈ° μ¤‘...")
}
```

---

### β΅οΈ λ‹¤μ λ‹¨κ³„

Stage 2μ—μ„λ” Redisμ κ°€μ¥ κΈ°λ³Έμ μΈ λ…λ Ήμ–΄μΈ `PING`μ— `+PONG`μΌλ΅ μ‘λ‹µν•λ” κΈ°λ¥μ„ κµ¬ν„ν•©λ‹λ‹¤.
